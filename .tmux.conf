
# Change the prefix
unbind C-b
set -g prefix C-space

# Setup key bindings

# Pane navigation
unbind H
bind   H select-pane -t top-left
unbind L
bind   L select-pane -t bottom-right
unbind h
bind   h select-pane -L
unbind l
bind   l select-pane -R
unbind k
bind   k select-pane -U
unbind j
bind   j select-pane -D

# Launch quad panes
# bind Q source-file ~/.tmux/quad
bind Q split-window \; split-window -h \; select-pane -t 0 \; split-window -h \; select-pane -t 0

# List all panes
bind P list-panes

# Zoom-in to the current window pane
unbind +
bind + resize-pane -Z
# Zoom-out from the current window pane
unbind -
bind - resize-pane -Z

# Source .tmux.conf
unbind R
bind R source-file ~/.tmux.conf \; display-message "Reloaded Configuration"

# Kill tmux
bind \ kill-window

# enable window settings
setw -g monitor-activity on
set -g visual-activity on

# Set "VI" mode for scrolling
set-window-option -g mode-keys vi

# Enable mouse support
set -g mouse on

bind -n WheelUpPane   select-pane -t= \; copy-mode -e \; send-keys -M
bind -n WheelDownPane select-pane -t= \;                 send-keys -M
bind -n C-WheelUpPane select-pane -t= \; copy-mode -e \; send-keys -M
bind -t vi-copy    C-WheelUpPane   halfpage-up
bind -t vi-copy    C-WheelDownPane halfpage-down
bind -t emacs-copy C-WheelUpPane   halfpage-up
bind -t emacs-copy C-WheelDownPane halfpage-down

# Set colors
set -g default-terminal "xterm-256color"

# Setup clipboard integration
set-option -g default-command "/usr/local/bin/reattach-to-user-namespace -l bash"

# Setup 'v' to begin selection as in Vim
bind-key -t vi-copy v begin-selection
bind-key -t vi-copy y copy-pipe "/usr/local/bin/reattach-to-user-namespace pbcopy"

# Update default binding of `Enter` to also use copy-pipe
unbind -t vi-copy Enter
bind-key -t vi-copy Enter copy-pipe "/usr/local/bin/reattach-to-user-namespace pbcopy"

# Bind ']' to use pbpaste
bind ] run "/usr/local/bin/reattach-to-user-namespace pbpaste | /usr/local/bin/tmux load-buffer - && /usr/local/bin/tmux paste-buffer"
